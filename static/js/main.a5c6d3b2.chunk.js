(this.webpackJsonpmynotes=this.webpackJsonpmynotes||[]).push([[0],{125:function(t,e,n){},132:function(t,e,n){},429:function(t,e,n){"use strict";n.r(e);var o=n(8),i=n.n(o),s=n(17),a=n.n(s),c=(n(132),n(51)),r=n(52),l=n(55),d=n(54),u=n(53),h=(n(125),n(41)),j=n.n(h),p=n(128),m=n(1),b=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var o;return Object(c.a)(this,n),(o=e.call(this,t)).state={notes:[],important:[],accountExists:!0,loginError:null,signupError:null,options:null,importantOptions:null,editableNote:null,active:"home"},o}return Object(r.a)(n,[{key:"getCookie",value:function(t){console.log(t);var e,n=document.cookie.split(";");return console.log(n),n.forEach((function(n){if(t==n.split("=")[0]){var o=n.split("=")[1];e=o}})),decodeURI(e)}},{key:"important",value:function(){if(0===this.state.important.length)return Object(m.jsx)("p",{id:"invalidCredentials",style:{textAlign:"center",marginTop:"100px"},children:"You have not marked any note as important. Mark them to see here"})}},{key:"notification",value:function(){if(0==this.state.notes.length)return Object(m.jsx)("p",{id:"notification",children:"You have not saved any notes. Save them to see here"})}},{key:"componentDidMount",value:function(){var t=this;fetch("http://3.142.94.241:3100/savenote",{method:"GET",headers:{"Content-Type":"text/plain",authorization:this.getCookie("token")}}).then((function(e){if(200==e.status)return e.json().then((function(e){e&&t.setState({notes:e.reverse()})}));console.log(e),t.setState({notes:null})}))}},{key:"render",value:function(){var t=this;return"important"==this.state.active&&null!=this.state.important&&null!=this.state.notes?Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("nav",{children:[Object(m.jsx)("div",{className:"navContent",id:"appName",onClick:function(e){e.preventDefault(),t.setState({active:"home"})},children:"Notes"}),Object(m.jsx)("div",{className:"navContent",id:"importantNav",onClick:function(e){e.preventDefault(),t.setState({active:"important"})},children:"Importants"}),Object(m.jsx)("img",{src:"/download.png",alt:"logout",id:"logoutButton",onClick:function(e){e.preventDefault(),document.cookie.split(";").forEach((function(t){document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")})),t.setState({notes:null})}})]}),this.important(),Object(m.jsx)("div",{id:"important",children:this.state.important.map((function(e){return e._id===t.state.importantOptions?Object(m.jsxs)("div",{id:e._id,className:"Notes",children:[Object(m.jsxs)("div",{className:"rightCorner",children:[Object(m.jsx)("div",{id:"options",children:Object(m.jsx)("button",{onClick:function(n){n.preventDefault(),fetch("http://3.142.94.241:3100/savenote/".concat(e._id,"/important"),{method:"DELETE",headers:{"Content-Type":"text/plain",authorization:t.getCookie("token")}}).then((function(e){200==e.status||304==e.status?e.json().then((function(e){t.setState({important:e})})):Object(u.a)(Object(m.jsx)("p",{children:"error"}))}))},children:"remove"})}),Object(m.jsx)("img",{src:"/download1.png",className:"threeDots",onClick:function(e){e.preventDefault(),t.setState({importantOptions:null})}})]}),Object(m.jsx)("div",{className:"noteTitle ",children:e.title}),Object(m.jsx)("div",{className:"noteBody",children:e.body})]},e._id):Object(m.jsxs)("div",{id:e._id,className:"Notes",children:[Object(m.jsx)("div",{className:"rightCorner",children:Object(m.jsx)("img",{src:"/download1.png",className:"threeDots",onClick:function(n){n.preventDefault(),t.setState({importantOptions:e._id})}})}),Object(m.jsx)("div",{className:"noteTitle",children:e.title}),Object(m.jsx)("div",{className:"noteBody",children:e.body})]},e._id)}))})]}):null!=this.state.notes&&"home"==this.state.active?Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("nav",{children:[Object(m.jsx)("div",{className:"navContent",id:"appName",onClick:function(e){e.preventDefault(),t.setState({active:"home"})},children:"Notes"}),Object(m.jsx)("div",{className:"navContent",id:"importantNav",onClick:function(e){e.preventDefault(),t.setState({active:"important",options:null,editableNote:null}),0===t.state.important.length&&fetch("http://3.142.94.241:3100/savenote/important/",{method:"GET",headers:{"content-type":"text/plain",authorization:t.getCookie("token")}}).then((function(t){return 200!=t.status&&304!=t.status?(console.log("Error"),{err:"error"}):t.json()})).then((function(e){t.setState({important:e})})).catch((function(){t.setState({active:"home"})}))},children:"Importants"}),Object(m.jsx)("img",{src:"/download.png",alt:"logout",id:"logoutButton",onClick:function(e){e.preventDefault(),document.cookie.split(";").forEach((function(t){document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")})),t.setState({notes:null})}})]}),Object(m.jsxs)("div",{onClick:function(e){e.preventDefault(),t.setState({editableNote:null})},children:[Object(m.jsxs)("div",{className:"addNote",id:"title",children:[Object(m.jsx)("h2",{id:"title",children:"Add Title"}),Object(m.jsx)("textarea",{id:"addTitle",rows:"2",columns:"5"})]}),Object(m.jsxs)("div",{className:"addNote",id:"title",children:[Object(m.jsx)("h3",{id:"Body",children:"Add Note"}),Object(m.jsx)("textarea",{id:"addNote",rows:"15",columns:"5"})]}),Object(m.jsx)("button",{id:"saveButton",className:"addNote",onClick:function(e){e.preventDefault();var n=document.getElementById("addTitle").value,o=document.getElementById("addNote").value;document.getElementById("addTitle").value="",document.getElementById("addNote").value="";var i={title:n,body:o};fetch("http://3.142.94.241:3100/savenote/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:t.getCookie("token")},body:j()(i)}).then((function(t){if(200===t.status)return t.json()})).then((function(e){t.setState({notes:t.state.notes.reverse().concat(e).reverse()})})).catch((function(t){console.log(t)}))},children:"Save"})]}),Object(m.jsx)("h2",{id:"YourNotes",children:"Your Notes"}),this.notification(),Object(m.jsx)("div",{id:"savedNotes",children:this.state.notes.map((function(e){return e._id==t.state.editableNote?Object(m.jsxs)("div",{id:e._id,className:"editableNotes",children:[Object(m.jsx)("div",{className:"noteTitle editable",contentEditable:"true",suppressContentEditableWarning:!0,children:e.title}),Object(m.jsx)("div",{className:"noteBody editable",contentEditable:"true",suppressContentEditableWarning:!0,children:e.body}),Object(m.jsx)("div",{id:"buttons",children:Object(m.jsx)("button",{className:"deleteButton",onClick:function(n){var o={title:document.getElementById(e._id).firstChild.innerText,body:document.getElementById(e._id).firstChild.nextSibling.innerText};console.log(o),fetch("http://3.142.94.241:3100/savenote/".concat(e._id),{method:"PUT",headers:{authorization:t.getCookie("token"),"content-type":"application/x-www-form-urlencoded"},body:j()(o)}).then((function(t){if(200==t.status)return t.json();Object(u.a)(Object(m.jsx)("div",{children:"error"}))})).then((function(e){t.setState({notes:e.reverse(),editableNote:null})})).catch((function(t){console.log(t)}))},children:"Save"})})]},e._id):t.state.options==e._id?Object(m.jsxs)("div",{id:e._id,className:"Notes",children:[Object(m.jsxs)("div",{className:"rightCorner",children:[Object(m.jsxs)("div",{id:"options",children:[Object(m.jsx)("button",{onClick:function(n){t.setState({editableNote:null,options:null}),fetch("http://3.142.94.241:3100/savenote/".concat(e._id),{method:"DELETE",headers:{authorization:t.getCookie("token"),"content-type":"text/plain"}}).then((function(e){200!==e.status?e.json().then((function(t){console.log(t)})):e.json().then((function(e){t.setState({notes:e})}))}))},children:"delete"}),Object(m.jsx)("button",{onClick:function(n){n.preventDefault(),t.setState({editableNote:e._id,options:null})},children:"edit"}),Object(m.jsx)("button",{onClick:function(n){n.preventDefault(),fetch("http://3.142.94.241:3100/savenote/".concat(e._id,"/important"),{method:"POST",headers:{"Content-Type":"text/plain",authorization:t.getCookie("token")}}).then((function(e){200!=e.status&&304!=e.status||e.json().then((function(e){t.setState({important:e,options:null})}))}))},children:"important"})]}),Object(m.jsx)("img",{src:"/download1.png",className:"threeDots",onClick:function(e){e.preventDefault(),t.setState({options:null})}})]}),Object(m.jsx)("div",{className:"noteTitle ",children:e.title}),Object(m.jsx)("div",{className:"noteBody",children:e.body})]},e._id):Object(m.jsxs)("div",{id:e._id,className:"Notes",children:[Object(m.jsx)("div",{className:"rightCorner",children:Object(m.jsx)("img",{src:"/download1.png",className:"threeDots",onClick:function(n){n.preventDefault(),t.setState({options:e._id})}})}),Object(m.jsx)("div",{className:"noteTitle",children:e.title}),Object(m.jsx)("div",{className:"noteBody",children:e.body})]},e._id)}))})]}):this.state.accountExists?Object(m.jsx)("div",{id:"loginDiv",children:Object(m.jsxs)("form",{children:[Object(m.jsx)("h1",{children:"Welcome To YourNote"}),Object(m.jsx)("p",{id:"invalidCredentials",children:this.state.loginError}),Object(m.jsx)("h3",{children:"Username"}),Object(m.jsx)("input",{type:"text",placeholder:"enter your username",id:"username"}),Object(m.jsx)("br",{}),Object(m.jsx)("h3",{children:"Password"}),Object(m.jsx)("input",{type:"password",placeholder:"enter your password",id:"password"}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{id:"loginButton",onClick:function(e){e.preventDefault();var n={username:document.getElementById("username").value,password:document.getElementById("password").value};fetch("http://3.142.94.241:3100/users/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:j()(n)}).then((function(t){return t.status,t.json()})).then((function(e){(console.log(e.err),e.err)?t.setState({loginError:e.err}):((new p.a).set("token","Bearer "+e.token,"http://3.142.94.241:3100/savenote"),fetch("http://3.142.94.241:3100/savenote",{method:"GET",headers:{"Content-Type":"text/plain",authorization:t.getCookie("token")}}).then((function(e){if(200==e.status)return e.json();console.log(e),t.setState({notes:null})})).then((function(e){t.setState({notes:e})})))})).catch((function(t){console.log(t)}))},children:"Login"}),Object(m.jsx)("p",{id:"createAccountPara",children:"don't have an account, create one"}),Object(m.jsx)("button",{id:"signupButton",onClick:function(e){e.preventDefault(),t.setState({accountExists:!1})},children:"SignUp"})]})}):Object(m.jsx)("div",{id:"signupForm",children:Object(m.jsxs)("form",{children:[Object(m.jsx)("h1",{children:" Create a new account"}),Object(m.jsx)("p",{id:"invalidCredentials",children:this.state.signupError}),Object(m.jsx)("h3",{children:"Username"}),Object(m.jsx)("input",{type:"text",id:"username",placeholder:"enter your username"}),Object(m.jsx)("h3",{children:"Password"}),Object(m.jsx)("input",{type:"password",id:"password",placeholder:"enter your password"}),Object(m.jsx)("h3",{children:"First Name"}),Object(m.jsx)("input",{type:"text",id:"FirstName",placeholder:"enter your First Name"}),Object(m.jsx)("h3",{children:"Last Name"}),Object(m.jsx)("input",{type:"text",id:"LastName",placeholder:"enter your Last Name"}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{id:"signupButton",onClick:function(e){e.preventDefault();var n={username:document.getElementById("username").value,password:document.getElementById("password").value,firstName:document.getElementById("FirstName").value,lastName:document.getElementById("LastName").value};fetch("http://3.142.94.241:3100/users",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:j()(n)}).then((function(e){if(200==e.status)return e.json();e.json().then((function(e){t.setState({signupError:e.err}),console.log(e)}))})).then((function(e){e&&(t.setState({accountExists:!0}),console.log(e))}))},children:"Sign Up"})]})})}}]),n}(i.a.Component),v=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){return Object(c.a)(this,n),e.call(this,t)}return Object(r.a)(n,[{key:"render",value:function(){return Object(m.jsx)(b,{})}}]),n}(i.a.Component),f=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,430)).then((function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,s=e.getLCP,a=e.getTTFB;n(t),o(t),i(t),s(t),a(t)}))};a.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(v,{})}),document.getElementById("root")),f()}},[[429,1,2]]]);
//# sourceMappingURL=main.a5c6d3b2.chunk.js.map