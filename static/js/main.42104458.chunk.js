(this.webpackJsonpmynotes=this.webpackJsonpmynotes||[]).push([[0],{127:function(t,e,n){},135:function(t,e,n){},431:function(t,e,n){"use strict";n.r(e);var o=n(2),i=n.n(o),s=n(22),r=n.n(s),a=(n(135),n(4)),c=n(5),p=n(7),u=n(6),l=n(80),d=n.n(l),h=n(128),j=n(35),m=(n(127),n(21)),b=n.n(m),v=n(131),f=n(1),O=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(t){var o;return Object(a.a)(this,n),(o=e.call(this,t)).state={error:null},o}return Object(c.a)(n,[{key:"login",value:function(){}},{key:"render",value:function(){var t=this;return Object(f.jsx)("div",{id:"loginDiv",children:Object(f.jsxs)("form",{children:[Object(f.jsx)("h1",{children:"Welcome To YourNote"}),Object(f.jsx)("p",{id:"invalidCredentials",children:this.state.error}),Object(f.jsx)("h3",{children:"Username"}),Object(f.jsx)("input",{type:"text",placeholder:"enter your username",id:"username"}),Object(f.jsx)("br",{}),Object(f.jsx)("h3",{children:"Password"}),Object(f.jsx)("input",{type:"password",placeholder:"enter your password",id:"password"}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{id:"loginButton",onClick:function(e){e.preventDefault();var n={username:document.getElementById("username").value,password:document.getElementById("password").value};fetch("http://3.142.94.241:3100/users/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:b()(n)}).then((function(t){return t.status,t.json()})).then((function(e){e.err?t.setState({error:e.err}):((new v.a).set("token","Bearer "+e.token,"http://3.142.94.241:3100/savenote"),fetch("http://3.142.94.241:3100/savenote",{method:"GET",headers:{"Content-Type":"text/plain",authorization:t.props.getCookie("token")}}).then((function(e){if(200==e.status)return e.json();t.props.importNote(null)})).then((function(e){t.props.importNote(e)})))}))},children:"Login"}),Object(f.jsx)("p",{id:"createAccountPara",children:"don't have an account, create one"}),Object(f.jsx)("button",{id:"signupButton",onClick:function(e){t.props.navigateToSignup(e)},children:"SignUp"})]})})}}]),n}(i.a.Component),x=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={signupError:null},t}return Object(c.a)(n,[{key:"signup",value:function(t,e){}},{key:"render",value:function(){var t=this;return Object(f.jsx)("div",{id:"signupForm",children:Object(f.jsxs)("form",{children:[Object(f.jsx)("h1",{children:" Create a new account"}),Object(f.jsx)("p",{id:"invalidCredentials",children:this.state.signupError}),Object(f.jsx)("h3",{children:"Username"}),Object(f.jsx)("input",{type:"text",id:"username",placeholder:"enter your username"}),Object(f.jsx)("h3",{children:"Password"}),Object(f.jsx)("input",{type:"password",id:"password",placeholder:"enter your password"}),Object(f.jsx)("h3",{children:"First Name"}),Object(f.jsx)("input",{type:"text",id:"FirstName",placeholder:"enter your First Name"}),Object(f.jsx)("h3",{children:"Last Name"}),Object(f.jsx)("input",{type:"text",id:"LastName",placeholder:"enter your Last Name"}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{id:"signupButton",onClick:function(e){e.preventDefault();var n={username:document.getElementById("username").value,password:document.getElementById("password").value,firstName:document.getElementById("FirstName").value,lastName:document.getElementById("LastName").value};fetch("http://3.142.94.241:3100/users",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:b()(n)}).then((function(e){if(200==e.status)return e.json();e.json().then((function(e){t.setState({signupError:e.err})}))})).then((function(e){e&&t.props.accountExists()}))},children:"Sign Up"})]})})}}]),n}(i.a.Component),g=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(f.jsxs)("nav",{children:[Object(f.jsx)("div",{className:"navContent",id:"appName",onClick:function(e){t.props.active(e,"home")},children:"Notes"}),Object(f.jsx)("div",{className:"navContent",id:"importantNav",onClick:function(e){t.props.active(e,"important"),0===t.props.important.length&&fetch("http://3.142.94.241:3100/savenote/important/",{method:"GET",headers:{"content-type":"text/plain",authorization:t.props.getCookie("token")}}).then((function(t){return 200!==t.status&&304!=t.status?(console.log("Error"),{err:"error"}):t.json()})).then((function(e){t.props.importImportant(e)}))},children:"Importants"}),Object(f.jsx)("img",{src:"/download.png",alt:"logout",id:"logoutButton",onClick:function(e){document.cookie.split(";").forEach((function(e){document.cookie=e.replace("Bearer","invalid"),t.props.logout()}))}})]})}}]),n}(i.a.Component),y=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"addNote",id:"title",children:[Object(f.jsx)("h2",{id:"title",children:"Add Title"}),Object(f.jsx)("textarea",{id:"addTitle",rows:"2",columns:"5"})]}),Object(f.jsxs)("div",{className:"addNote",id:"title",children:[Object(f.jsx)("h3",{id:"Body",children:"Add Note"}),Object(f.jsx)("textarea",{id:"addNote",rows:"15",columns:"5"})]}),Object(f.jsx)("button",{id:"saveButton",className:"addNote",onClick:function(e){e.preventDefault();var n=document.getElementById("addTitle").value,o=document.getElementById("addNote").value;document.getElementById("addTitle").value="",document.getElementById("addNote").value="";var i={title:n,body:o};fetch("http://3.142.94.241:3100/savenote/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:t.props.getCookie("token")},body:b()(i)}).then((function(t){if(200===t.status||304===t.status)return t.json()})).then((function(e){t.props.importNote(t.props.notes.reverse().concat(e).reverse())})).catch((function(t){console.log(t)}))},children:"Save"})]})}}]),n}(i.a.Component),k=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={options:null,editableNote:null},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return this.props.notes.map((function(e){return e._id===t.state.editableNote?Object(f.jsx)(N,{note:e,getCookie:t.props.getCookie,importNote:t.props.importNote,editSuccess:function(){t.setState({editableNote:null})}},e._id):t.state.options===e._id?Object(f.jsx)(C,{note:e,getCookie:t.props.getCookie,importNote:t.props.importNote,edit:function(e,n){e.preventDefault(),t.setState({editableNote:n,options:null})},importImportant:t.props.importImportant},e._id):Object(f.jsx)(w,{note:e,options:function(e,n){e.preventDefault(),t.setState({options:n})},getCookie:t.props.getCookie},e._id)}))}}]),n}(i.a.Component),N=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(f.jsxs)("div",{id:this.props.note._id,className:"editableNotes",children:[Object(f.jsx)("div",{className:"noteTitle editable",contentEditable:"true",suppressContentEditableWarning:!0,children:this.props.note.title}),Object(f.jsx)("div",{className:"noteBody editable",contentEditable:"true",suppressContentEditableWarning:!0,children:this.props.note.body}),Object(f.jsx)("div",{id:"buttons",children:Object(f.jsx)("button",{className:"deleteButton",onClick:function(e){var n={title:document.getElementById(t.props.note._id).firstChild.innerText,body:document.getElementById(t.props.note._id).firstChild.nextSibling.innerText};console.log(n),fetch("http://3.142.94.241:3100/savenote/".concat(t.props.note._id),{method:"PUT",headers:{authorization:t.props.getCookie("token"),"content-type":"application/x-www-form-urlencoded"},body:b()(n)}).then((function(t){if(200===t.status)return t.json();Object(j.a)(Object(f.jsx)("div",{children:"error"}))})).then((function(e){t.props.editSuccess(),t.props.importNote(e.reverse())})).catch((function(t){console.log(t)}))},children:"Save"})})]},this.props.note._id)}}]),n}(i.a.Component),C=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(f.jsxs)("div",{id:this.props.note._id,className:"Notes",children:[Object(f.jsxs)("div",{className:"rightCorner",children:[Object(f.jsxs)("div",{id:"options",children:[Object(f.jsx)("button",{onClick:function(e){t.setState({editableNote:null,options:null}),fetch("http://3.142.94.241:3100/savenote/".concat(t.props.note._id),{method:"DELETE",headers:{authorization:t.props.getCookie("token"),"content-type":"text/plain"}}).then((function(e){200!==e.status?e.json().then((function(t){console.log(t)})):e.json().then((function(e){t.props.importNote(e.reverse())}))}))},children:"delete"}),Object(f.jsx)("button",{onClick:function(e){t.props.edit(e,t.props.note._id)},children:"edit"}),Object(f.jsx)("button",{onClick:function(e){e.preventDefault(),fetch("http://3.142.94.241:3100/savenote/".concat(t.props.note._id,"/important"),{method:"POST",headers:{"Content-Type":"text/plain",authorization:t.props.getCookie("token")}}).then((function(e){200!==e.status&&304!==e.status||(t.setState({options:null}),e.json().then((function(e){t.props.importImportant(e)})))}))},children:"important"})]}),Object(f.jsx)("img",{src:"../download1.png",className:"threeDots",onClick:function(e){e.preventDefault(),t.setState({options:null})}})]}),Object(f.jsx)("div",{className:"noteTitle ",children:this.props.note.title}),Object(f.jsx)("div",{className:"noteBody",children:this.props.note.body})]},this.props.note._id)}}]),n}(i.a.Component),w=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(f.jsxs)("div",{id:this.props.note._id,className:"Notes",children:[Object(f.jsx)("div",{className:"rightCorner",children:Object(f.jsx)("img",{src:"../../public/download1.png",className:"threeDots",onClick:function(e){t.props.options(e,t.props.note._id)}})}),Object(f.jsx)("div",{className:"noteTitle",children:this.props.note.title}),Object(f.jsx)("div",{className:"noteBody",children:this.props.note.body})]},this.props.note._id)}}]),n}(i.a.Component),E=k,S=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"notification",value:function(){if(0==this.props.notes.length)return Object(f.jsx)("p",{id:"notification",children:"You have not saved any notes. Save them to see here"})}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(g,{logout:this.props.logout,active:this.props.active,importImportant:this.props.importImportant,getCookie:this.props.getCookie,important:this.props.important}),Object(f.jsx)(y,{importNote:this.props.importNote,getCookie:this.props.getCookie,notes:this.props.notes}),Object(f.jsx)("h2",{id:"YourNotes",children:"Your Notes"}),this.notification(),Object(f.jsx)("div",{id:"savedNotes",children:Object(f.jsx)(E,{notes:this.props.notes,getCookie:this.props.getCookie,importNote:this.props.importNote,importImportant:this.props.importImportant})})]})}}]),n}(i.a.Component),T=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={importantOptions:null},t}return Object(c.a)(n,[{key:"notify",value:function(){if(0===this.props.important.length)return Object(f.jsx)("p",{id:"invalidCredentials",style:{textAlign:"center",marginTop:"100px"},children:"You have not marked any note as important. Mark them to see here"})}},{key:"render",value:function(){var t=this;return Object(f.jsxs)("div",{children:[Object(f.jsx)(g,{active:this.props.active,important:this.props.important,logout:this.props.logout}),this.notify(),Object(f.jsx)("div",{id:"important",children:this.props.important.map((function(e){return e._id===t.state.importantOptions?Object(f.jsxs)("div",{id:e._id,className:"Notes",children:[Object(f.jsxs)("div",{className:"rightCorner",children:[Object(f.jsx)("div",{id:"options",children:Object(f.jsx)("button",{onClick:function(n){n.preventDefault(),fetch("http://3.142.94.241:3100/savenote/".concat(e._id,"/important"),{method:"DELETE",headers:{"Content-Type":"text/plain",authorization:t.props.getCookie("token")}}).then((function(e){200==e.status||304==e.status?e.json().then((function(e){t.props.importImportant(e)})):Object(j.a)(Object(f.jsx)("p",{children:"error"}))}))},children:"remove"})}),Object(f.jsx)("img",{src:"/download1.png",className:"threeDots",onClick:function(e){e.preventDefault(),t.setState({importantOptions:null})}})]}),Object(f.jsx)("div",{className:"noteTitle ",children:e.title}),Object(f.jsx)("div",{className:"noteBody",children:e.body})]},e._id):Object(f.jsxs)("div",{id:e._id,className:"Notes",children:[Object(f.jsx)("div",{className:"rightCorner",children:Object(f.jsx)("img",{src:"/download1.png",className:"threeDots",onClick:function(n){n.preventDefault(),t.setState({importantOptions:e._id})}})}),Object(f.jsx)("div",{className:"noteTitle",children:e.title}),Object(f.jsx)("div",{className:"noteBody",children:e.body})]},e._id)}))})]})}}]),n}(i.a.Component),B=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(t){var o;return Object(a.a)(this,n),(o=e.call(this,t)).state={notes:[],important:[],accountExists:!0,active:"home"},o}return Object(c.a)(n,[{key:"getCookie",value:function(t){var e;return document.cookie.split(";").forEach((function(n){if(t==n.split("=")[0]){var o=n.split("=")[1];e=o}})),decodeURI(e)}},{key:"componentDidMount",value:function(){var t=this;fetch("http://3.142.94.241:3100/savenote",{method:"GET",headers:{"Content-Type":"text/plain",authorization:this.getCookie("token")}}).then(function(){var e=Object(h.a)(d.a.mark((function e(n){var o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===n.status||304===n.status){e.next=4;break}t.setState({notes:null}),e.next=8;break;case 4:return e.next=6,n.json();case 6:(o=e.sent)&&t.setState({notes:o.reverse()});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){var t=this;return"important"==this.state.active&&null!=this.state.important&&null!=this.state.notes?Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(T,{active:function(e,n){e.preventDefault(),t.setState({active:n})},logout:function(){t.setState({notes:null})},importImportant:function(e){t.setState({important:e})},important:this.state.important,getCookie:this.getCookie})}):null!=this.state.notes&&"home"==this.state.active?Object(f.jsx)(S,{notes:this.state.notes,active:function(e,n){e.preventDefault(),t.setState({active:n})},important:this.state.important,importImportant:function(e){t.setState({important:e})},logout:function(){t.setState({notes:null})},importNote:function(e){t.setState({notes:e})},getCookie:this.getCookie}):this.state.accountExists?Object(f.jsx)(O,{importNote:function(e){t.setState({notes:e})},navigateToSignup:function(e){e.preventDefault(),t.setState({accountExists:!1})},getCookie:this.getCookie}):Object(f.jsx)(x,{accountExists:function(){t.setState({accountExists:!0})}})}}]),n}(i.a.Component),I=function(t){Object(p.a)(n,t);var e=Object(u.a)(n);function n(t){return Object(a.a)(this,n),e.call(this,t)}return Object(c.a)(n,[{key:"render",value:function(){return Object(f.jsx)(B,{})}}]),n}(i.a.Component),_=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,432)).then((function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,s=e.getLCP,r=e.getTTFB;n(t),o(t),i(t),s(t),r(t)}))};r.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(I,{})}),document.getElementById("root")),_()}},[[431,1,2]]]);
//# sourceMappingURL=main.42104458.chunk.js.map